require = function e(n, r, t) { function o(a, c) { if (!r[a]) { if (!n[a]) { var u = "function" == typeof require && require; if (!c && u) return u(a, !0); if (i) return i(a, !0); var d = new Error("Cannot find module '" + a + "'"); throw d.code = "MODULE_NOT_FOUND", d } var s = r[a] = { exports: {} }; n[a][0].call(s.exports, function (e) { var r = n[a][1][e]; return o(r ? r : e) }, s, s.exports, e, n, r, t) } return r[a].exports } for (var i = "function" == typeof require && require, a = 0; a < t.length; a++) o(t[a]); return o }({ 280: [function (e) { "use strict"; var n = e("lodash"); window.levelbuilder = window.levelbuilder || {}, n.extend(window.levelbuilder, { initializeCodeMirror: e("./initializeCodeMirror"), jsonEditor: e("./jsonEditor"), ajaxSubmit: e("./ajaxSubmit") }), window.CodeMirror = e("codemirror"), window.marked = e("marked") }, { "./ajaxSubmit": 240, "./initializeCodeMirror": 276, "./jsonEditor": 278, codemirror: 14, lodash: 19, marked: 20 }], 278: [function (e, n) { "use strict"; var r = e("codemirror"); n.exports = function (e, n) { function t(e, r) { $.each(e, function (n, o) { o && "object" == typeof o ? t(o, r) : r.find("." + n).val(e[n]) }), n.onNewSpace && n.onNewSpace(r) } function o(e, n) { $.each(e, function (r, t) { "object" == typeof t ? o(t, n) : (t = n.find("." + r).val(), e[r] = "number" == typeof e[r] ? +t : t) }) } function i() { var r = []; e.find(n.form_container).find(n.value_space).each(function () { var e = $.extend(!0, {}, n.model); o(e, $(this)), r.push(e) }), c.setValue(JSON.stringify(r, null, " ")) } function a() { var r = e.find(n.template).children(":first").clone(); return e.find(n.form_container).append(r), r } e = $(e); var c = r.fromTextArea(e.find(n.json_textarea).get(0), { mode: "javascript", viewportMargin: 1 / 0, matchBrackets: !0 }), u = c.getValue(); if (u.length > 0) { var d = JSON.parse(c.getValue()); $.each(d, function (e, n) { t(n, a()) }) } n.up_button && e.on("click", n.up_button, function () { var e = $(this).closest(n.value_space); e.prev().length && (e.insertBefore(e.prev()), i()) }), n.down_button && e.on("click", n.down_button, function () { var e = $(this).closest(n.value_space); e.next().length && (e.insertAfter(e.next()), i()) }), e.on("click", n.add_button, function () { var e = $.extend(!0, {}, n.model); t(e, a()), i() }), e.on("click", n.remove_button, function () { $(this).closest(n.value_space).remove(), i() }), e.on("change", n.wrapper, function () { i() }) } }, { codemirror: 14 }], 240: [function (e, n) { "use strict"; n.exports = function (e) { $(document).ready(function () { $(e).on("ajax:beforeSend", function (e, n) { $(".validation-error").empty(); var r = $('meta[name="csrf-token"]').attr("content"); n.setRequestHeader("X-CSRF-TOKEN", r) }), $(e).on("ajax:complete", function (e, n) { "200" == n.status && (localStorage.removeItem("markdown_" + window.location.pathname.split("/").reverse()[1]), window.location.href = JSON.parse(n.responseText).redirect) }), $(e).on("ajax:error", function (e, n, r, t) { var o; try { o = $.parseJSON(n.responseText) } catch (i) { o = { message: "Error (" + t + "): " + n.responseText } } $(".validation-error").html("<p>Couldn't create level:</p>").append($("<ul/>").append(Object.keys(o).map(function (e) { return $("<li/>").text(e + ": " + o[e]) }))) }) }) } }, {}] }, {}, [280]);